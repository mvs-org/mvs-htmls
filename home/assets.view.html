<div class="content">
  <div class="headline">{{ 'NAV_WALLET' | translate }}</div>
</br>
<div class="body-content">
  <form method="post" class="form-x" action="">
    <div class="mainContent1">
      <div class="row assetBoxWrapper">
        <dl id="outer_wrap">
          <!--ETP Balance-->
          <a href="#!/account/addresses">
            <dd class="panel assetBox col-xs-1 col-sm-1 col-md-1 col-lg-1 col-xl-1" >
              <span class="assetBoxSymbolImg"><img class="assetSymbol" src="favicon.png" alt=""/></span>
              <span class="assetBoxTextInfo">
                <span class="assetBoxSymbolName">ETP</span>
                <span class="assetBoxTitle">{{ 'BALANCE' | translate }}</span>
                <span class="assetBoxValue">{{balance['total-unspent']/100000000}}</span>
                <span class="assetBoxTitle">{{ 'FROZEN' | translate}}</span>
                <span class="assetBoxValue">{{balance['total-frozen']/100000000}}</span>
              </span>
            </dd>
          </a>
          <!--All others assets balance-->
          <a href="#!/asset/details/{{asset.symbol}}" ng-repeat="asset in assets | orderBy:'symbol'">
            <dd class="panel assetBox col-xs-1 col-sm-1 col-md-1 col-lg-1 col-xl-1" >
              <span class="assetBoxSymbolImg"><img class="assetSymbol" src="favicon.png" alt=""/></span>
              <span class="assetBoxTextInfo">
                <span class="assetBoxSymbolName">{{asset.symbol}}</span>
                <span class="assetBoxTitle">{{ 'BALANCE' | translate }}</span>
                <span class="assetBoxValue">{{asset.quantity | assetformat : asset.decimal_number}}</span>
                <span class="assetBoxTitle">{{ 'STATUS' | translate }}</span>
                <span class="assetBoxValue">{{asset.status}}</span>
              </span>
            </dd>
          </a>
        </dl>
      </div>

    </div>
  </form>
  <br/>

  <div>
    <div class="headline">{{ 'NAV_HISTORY' | translate }}   </div>
    <div class="selectAssetType">
      <button class="dropdown-togglen assetTypeButton" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
        <img class="languageFlag" alt="" />
        {{assetType}}
        <span class="caret"></span>
      </button>
      <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
        <li><a ng-click="filterOnAsset('ETP')">ETP</a></li>
        <li class="divider" role="separator"></li>
        <li ng-repeat="asset in assets | orderBy:'symbol'"><a ng-click="filterOnAsset(asset.symbol)">{{asset.symbol}}</a></li>
      </ul>
    </div>
  </div>
  <br/>


  <form>
    <!--<div>{{ 'HISTORY_TIME_PERIOD' | translate }}</div>-->
    <div class="radioButton noPaddingLeftRight col-md-12">
      <span class="oneRadioButton">
        <input type="radio" name="radio" id="oneWeek" checked value="hideCustomDate" ng-click="setDates('week')"/>
        <label for="oneWeek">{{ 'HISTORY_ONE_WEEK' | translate }}</label>
      </span>
      <span class="oneRadioButton">
        <input type="radio" name="radio" id="oneMonth" value="hideCustomDate" ng-click="setDates('month')"/>
        <label for="oneMonth">{{ 'HISTORY_ONE_MONTH' | translate }}</label>
      </span>
      <span class="oneRadioButton">
        <input type="radio" name="radio" id="threeMonths" ng-click="setDates('threeMonths')"/>
        <label for="threeMonths">{{ 'HISTORY_THREE_MONTHS' | translate }}</label>
      </span>
      <span class="oneRadioButton">
        <input type="radio" name="radio" id="custom" ng-click="setDates('custom')"/>
        <label for="custom">{{ 'HISTORY_CUSTOM' | translate }}</label>
      </span>
    </div>

    <div ng-show="showDates">
      <div class="col-xs-6 noPaddingLeftRight">
        <div>{{ 'HISTORY_START_DATE' | translate }}</div>
        <div class="form-group" data-date-format="('GENERAL.DATE_FORMAT_DAY' | translate)">
          <input class="form-control calendarInput" ng-model="startDate" type="date">
          <span class="add-on"><i class="icon-calendar"></i></span>
        </div>
      </div>
      <div class="col-xs-6 noPaddingLeftRight">
        <div>{{ 'HISTORY_END_DATE' | translate }}</div>
        <div class="form-group" data-date-format="('GENERAL.DATE_FORMAT_DAY' | translate)">
          <input class="form-control calendarInput" ng-model="endDate" type="date">
          <span class="add-on"><i class="icon-calendar"></i></span>
        </div>
      </div>
    </div>

    <div class="col-xs-4 col-sm-2 noPaddingLeftRight">
      <br/>
      <input type="submit" class="btn btn-success" value="{{ 'HISTORY_SUBMIT' | translate }}" ng-click="displayUpdatedDates()"></input>
      <br/>
    </div>
  </form>



  <!--Display Transactions history-->
  <div class="col-xs-12 noPaddingLeftRight" ng-show="showHistory">
    <br/>
    <div class="headline">
      {{ 'HEADLINE_TRANSACTIONS' | translate }}
    </div>
    <br/>
    <!--Display the history in a table for large screens-->
    <div class="transactionBoxLarge hidden-xs hidden-sm">
      <div class="no_transaction_message" ng-show="transactions.length==0">
        {{'MESSAGES.NO_LISTED_TRANSACTIONS' | translate}}
      </div>
      <div class="col-md-12 noPaddingLeftRight" ng-show="transactions.length!=0">
          <div class="col-md-3 col-lg-2 noPaddingLeftRight">
            {{'HISTORY_TRANSACTION_DATE' | translate}}
          </div>

          <div class="col-md-5 col-lg-4 noPaddingLeftRight">
            {{'HISTORY_TRANSACTION_TO' | translate}}
          </div>
          <div class="col-md-1 noPaddingLeftRight">

          </div>
          <div class="col-md-1 noPaddingLeftRight">
            {{'HISTORY_TRANSACTION_AMOUNT' | translate}}
          </div>
          <div class="col-md-1 noPaddingLeftRight">
            {{'HISTORY_TRANSACTION_TYPE' | translate}}
          </div>
          <div>

          </div>
      </div>
        <div class="transactionBoxLarge col-md-12 noPaddingLeftRight" dir-paginate="transaction in transactionsFiltered | orderBy:'height':1 | itemsPerPage: 10">
        <!--<tr class="transactionLine" ng-repeat="transaction in transactions" ng-show= "dateRangeFilter(transaction.timestamp, startDateUpdated, endDateUpdated)">-->

          <div class="transactionBoxLargeTime noPaddingLeftRight col-md-3 col-lg-2">
            {{transaction.timestamp | date: ('GENERAL.DATE_FORMAT' | translate) }}
          </div>
          <!--<div class="transactionBoxLargeAddress noPaddingLeftRight col-md-3">
            <div ng-repeat="recipent in transaction.recipents" ng-if="transaction.direction=='receive'" class="address">{{recipent.address}}</div>
            <div ng-if="transaction.direction=='send'" class="address">My account</div>
            <div ng-if="transaction.direction=='issue'" class="address">Creation new asset</div>
          </div>-->

          <!--Recipent-->
          <div class="transactionBoxLargeAddress noPaddingLeftRight col-md-5 col-lg-4">
            <a class="btn-link linkToExplorerButton" href="#!/explorer/adr/{{recipent.address}}">
              <div ng-repeat="recipent in transaction.recipents" class="address">{{recipent.address}}</div>
            </a>
          </div>

          <!--Direction-->
          <div class="noPaddingLeftRight col-md-1">
            <span class="glyphicon glyphicon-arrow-down receiveSign" ng-if="transaction.direction=='receive'"></span>
            <span class="glyphicon glyphicon-arrow-up sendSign" ng-if="transaction.direction=='send'"></span>
            <span class="glyphicon glyphicon-plus issueSign" ng-if="transaction.direction=='issue'"></span>
          </div>

          <!--Amount-->
          <div class="noPaddingLeftRight col-md-1 right-align">
            <span ng-if="transaction.direction!='send'">+</span>
            <span ng-if="transaction.direction=='send'">-</span>
            {{transaction.value | assetformat : transaction.decimal_number}}
          </div>

          <!--Type (ETP,...)-->
        <div class="noPaddingLeftRight col-md-1">
          {{transaction.type}}
        </div>

        <!--Transaction code-->
        <div class="noPaddingLeftRight col-md-1 hash">
          <a class="btn-link linkToExplorerButton" href="#!/explorer/tx/{{transaction.hash}}">{{'HISTORY_TRANSACTION_CHECK' | translate}}</a>
        </div>
      </div>

    <dir-pagination-controls ng-show="showHistory"></dir-pagination-controls>
  </div>

  <!--Display the history in div for small screens-->
  <div class="visible-xs visible-sm">
    <div class="no_transaction_message" ng-show="transactions.length==0">
      {{'MESSAGES.NO_LISTED_TRANSACTIONS' | translate}}
    </div>
    <div class="transactionBoxSmall" ng-repeat="transaction in transactionsFiltered">
      <div class="transactionBoxSmallInfo col-xs-10 col-sm-10">
        <div class="transactionBoxSmallAmount">
          <span ng-if="transaction.direction!='send'">+</span>
          <span ng-if="transaction.direction=='send'">-</span>
          <span>{{transaction.value | assetformat : transaction.decimal_number}} {{transaction.type}}</span>
        </div>
        <div class="transactionBoxSmallAddress">
          <span class="glyphicon glyphicon-arrow-down receiveSign" ng-if="transaction.direction=='receive'"></span>
          <span class="glyphicon glyphicon-arrow-up sendSign" ng-if="transaction.direction=='send'"></span>
          <span class="glyphicon glyphicon-plus issueSign" ng-if="transaction.direction=='issue'"></span>
          <a class="btn-link linkToExplorerButton" href="#!/explorer/adr/{{recipent.address}}">
            <span ng-repeat="recipent in transaction.recipents" class="address">{{recipent.address}}</span>
          </a>
        </div>
        <div class="transactionBoxSmallTime">
          {{transaction.timestamp | date: ('GENERAL.DATE_FORMAT' | translate) }}
        </div>
      </div>
      <div class="transactionBoxSmallLinkToExplorer col-xs-2 col-sm-2">
        <a class="btn-link linkToExplorerButton" href="#!/explorer/tx/{{transaction.hash}}">{{'HISTORY_TRANSACTION_CHECK' | translate}}</a>
      </div>
    </div>
  </div>
</div>
